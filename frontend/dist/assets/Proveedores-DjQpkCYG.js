import{r as l,R as e}from"./react-3CbgUVXy.js";import{C as w,b as d,f as P,M as i,F as a,T as x,e as h}from"./vendor-FY51MtzY.js";const q=()=>{const[n,E]=l.useState([]),[b,f]=l.useState(!1),[o,g]=l.useState({nombre:"",contacto:"",telefono:"",email:""}),[y,s]=l.useState(!1),[C,c]=l.useState(""),[v,m]=l.useState("success");l.useEffect(()=>{const t=localStorage.getItem("proveedores");t&&E(JSON.parse(t))},[]),l.useEffect(()=>{localStorage.setItem("proveedores",JSON.stringify(n))},[n]);const u=t=>{const{name:r,value:T}=t.target;g({...o,[r]:T})},N=t=>{t.preventDefault();try{const r={id:Date.now(),...o};E([...n,r]),p(),c("Proveedor agregado correctamente"),m("success"),s(!0)}catch(r){console.error("Error al guardar el proveedor:",r),c("Error al guardar el proveedor"),m("danger"),s(!0)}},S=t=>{if(window.confirm("¿Está seguro que desea eliminar este proveedor?"))try{E(n.filter(r=>r.id!==t)),c("Proveedor eliminado correctamente"),m("success"),s(!0)}catch(r){console.error("Error al eliminar el proveedor:",r),c("Error al eliminar el proveedor"),m("danger"),s(!0)}},p=()=>{f(!1),g({nombre:"",contacto:"",telefono:"",email:""})};return e.createElement(w,null,e.createElement("h2",null,"Proveedores"),e.createElement("p",null,"Módulo de gestión de proveedores"),e.createElement(d,{variant:"primary",className:"mb-3",onClick:()=>f(!0)},"Agregar Proveedor"),e.createElement(P,{striped:!0,bordered:!0,hover:!0},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"ID"),e.createElement("th",null,"Nombre"),e.createElement("th",null,"Contacto"),e.createElement("th",null,"Teléfono"),e.createElement("th",null,"Email"),e.createElement("th",null,"Acciones"))),e.createElement("tbody",null,n.length>0?n.map(t=>e.createElement("tr",{key:t.id},e.createElement("td",null,t.id),e.createElement("td",null,t.nombre),e.createElement("td",null,t.contacto),e.createElement("td",null,t.telefono),e.createElement("td",null,t.email),e.createElement("td",null,e.createElement(d,{variant:"danger",size:"sm",onClick:()=>S(t.id)},"Eliminar")))):e.createElement("tr",null,e.createElement("td",{colSpan:"6",className:"text-center"},"No hay proveedores registrados")))),e.createElement(i,{show:b,onHide:p},e.createElement(i.Header,{closeButton:!0},e.createElement(i.Title,null,"Nuevo Proveedor")),e.createElement(i.Body,null,e.createElement(a,{onSubmit:N},e.createElement(a.Group,{className:"mb-3"},e.createElement(a.Label,null,"Nombre"),e.createElement(a.Control,{type:"text",name:"nombre",value:o.nombre,onChange:u,required:!0})),e.createElement(a.Group,{className:"mb-3"},e.createElement(a.Label,null,"Persona de contacto"),e.createElement(a.Control,{type:"text",name:"contacto",value:o.contacto,onChange:u,required:!0})),e.createElement(a.Group,{className:"mb-3"},e.createElement(a.Label,null,"Teléfono"),e.createElement(a.Control,{type:"tel",name:"telefono",value:o.telefono,onChange:u,required:!0})),e.createElement(a.Group,{className:"mb-3"},e.createElement(a.Label,null,"Email"),e.createElement(a.Control,{type:"email",name:"email",value:o.email,onChange:u,required:!0})),e.createElement("div",{className:"d-flex justify-content-end gap-2"},e.createElement(d,{variant:"secondary",onClick:p},"Cancelar"),e.createElement(d,{variant:"primary",type:"submit"},"Guardar"))))),e.createElement(x,{position:"top-end",className:"p-3",style:{zIndex:11}},e.createElement(h,{onClose:()=>s(!1),show:y,delay:3e3,autohide:!0,bg:v},e.createElement(h.Header,null,e.createElement("strong",{className:"me-auto"},v==="success"?"Éxito":"Error")),e.createElement(h.Body,{className:"text-white"},C))))};export{q as default};
//# sourceMappingURL=Proveedores-DjQpkCYG.js.map
