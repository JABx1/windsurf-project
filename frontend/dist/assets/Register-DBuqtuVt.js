import{r as o,u as w,R as e,L as v}from"./react-3CbgUVXy.js";import{u as y}from"./index-BEBrXeq0.js";import{C as N,c as p,A as x,F as a,b as L}from"./vendor-FY51MtzY.js";const P=()=>{const[m,f]=o.useState({username:"",email:"",password:"",confirmPassword:""}),[c,i]=o.useState(!1),[u,t]=o.useState(""),{register:C}=y(),b=w(),{username:d,email:E,password:r,confirmPassword:g}=m,n=s=>{f({...m,[s.target.name]:s.target.value})},h=async s=>{if(s.preventDefault(),t(""),r!==g)return t("Las contraseñas no coinciden");if(r.length<6)return t("La contraseña debe tener al menos 6 caracteres");i(!0);try{const l=await C({username:d,email:E,password:r});l.success?b("/"):t(l.message||"Error al registrar el usuario")}catch(l){console.error("Error en el registro:",l),t("Ocurrió un error al registrar el usuario")}finally{i(!1)}};return e.createElement(N,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},e.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},e.createElement(p,null,e.createElement(p.Body,null,e.createElement("h2",{className:"text-center mb-4"},"Crear Cuenta"),u&&e.createElement(x,{variant:"danger"},u),e.createElement(a,{onSubmit:h},e.createElement(a.Group,{id:"username",className:"mb-3"},e.createElement(a.Label,null,"Nombre de Usuario"),e.createElement(a.Control,{type:"text",name:"username",value:d,onChange:n,required:!0})),e.createElement(a.Group,{id:"email",className:"mb-3"},e.createElement(a.Label,null,"Correo Electrónico"),e.createElement(a.Control,{type:"email",name:"email",value:E,onChange:n,required:!0})),e.createElement(a.Group,{id:"password",className:"mb-3"},e.createElement(a.Label,null,"Contraseña"),e.createElement(a.Control,{type:"password",name:"password",value:r,onChange:n,required:!0}),e.createElement(a.Text,{className:"text-muted"},"Mínimo 6 caracteres")),e.createElement(a.Group,{id:"confirmPassword",className:"mb-3"},e.createElement(a.Label,null,"Confirmar Contraseña"),e.createElement(a.Control,{type:"password",name:"confirmPassword",value:g,onChange:n,required:!0})),e.createElement(L,{disabled:c,className:"w-100 mt-3",type:"submit"},c?"Creando cuenta...":"Registrarse")))),e.createElement("div",{className:"w-100 text-center mt-2"},"¿Ya tienes una cuenta? ",e.createElement(v,{to:"/login"},"Inicia Sesión"))))};export{P as default};
//# sourceMappingURL=Register-DBuqtuVt.js.map
