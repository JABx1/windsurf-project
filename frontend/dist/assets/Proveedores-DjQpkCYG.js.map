{"version":3,"file":"Proveedores-DjQpkCYG.js","sources":["../../src/components/Proveedores.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Table, Modal, Form, ToastContainer, Toast } from 'react-bootstrap';\nimport { translations } from '../translations';\n\nconst Proveedores = () => {\n  const [proveedores, setProveedores] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [formData, setFormData] = useState({\n    nombre: '',\n    contacto: '',\n    telefono: '',\n    email: ''\n  });\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [toastType, setToastType] = useState('success');\n\n  // Cargar datos del localStorage al iniciar\n  useEffect(() => {\n    const savedProveedores = localStorage.getItem('proveedores');\n    if (savedProveedores) setProveedores(JSON.parse(savedProveedores));\n  }, []);\n\n  // Guardar en localStorage cuando cambian los datos\n  useEffect(() => {\n    localStorage.setItem('proveedores', JSON.stringify(proveedores));\n  }, [proveedores]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    try {\n      const nuevoProveedor = {\n        id: Date.now(),\n        ...formData\n      };\n      \n      setProveedores([...proveedores, nuevoProveedor]);\n      handleClose();\n      setToastMessage('Proveedor agregado correctamente');\n      setToastType('success');\n      setShowToast(true);\n    } catch (error) {\n      console.error('Error al guardar el proveedor:', error);\n      setToastMessage('Error al guardar el proveedor');\n      setToastType('danger');\n      setShowToast(true);\n    }\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('¿Está seguro que desea eliminar este proveedor?')) {\n      try {\n        setProveedores(proveedores.filter(proveedor => proveedor.id !== id));\n        setToastMessage('Proveedor eliminado correctamente');\n        setToastType('success');\n        setShowToast(true);\n      } catch (error) {\n        console.error('Error al eliminar el proveedor:', error);\n        setToastMessage('Error al eliminar el proveedor');\n        setToastType('danger');\n        setShowToast(true);\n      }\n    }\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n    setFormData({ nombre: '', contacto: '', telefono: '', email: '' });\n  };\n\n  return (\n    <Container>\n      <h2>Proveedores</h2>\n      <p>Módulo de gestión de proveedores</p>\n      \n      <Button \n        variant=\"primary\" \n        className=\"mb-3\"\n        onClick={() => setShowModal(true)}\n      >\n        Agregar Proveedor\n      </Button>\n\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Nombre</th>\n            <th>Contacto</th>\n            <th>Teléfono</th>\n            <th>Email</th>\n            <th>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          {proveedores.length > 0 ? (\n            proveedores.map(proveedor => (\n              <tr key={proveedor.id}>\n                <td>{proveedor.id}</td>\n                <td>{proveedor.nombre}</td>\n                <td>{proveedor.contacto}</td>\n                <td>{proveedor.telefono}</td>\n                <td>{proveedor.email}</td>\n                <td>\n                  <Button \n                    variant=\"danger\" \n                    size=\"sm\"\n                    onClick={() => handleDelete(proveedor.id)}\n                  >\n                    Eliminar\n                  </Button>\n                </td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"6\" className=\"text-center\">No hay proveedores registrados</td>\n            </tr>\n          )}\n        </tbody>\n      </Table>\n\n      {/* Modal para agregar/editar proveedor */}\n      <Modal show={showModal} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Nuevo Proveedor</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Nombre</Form.Label>\n              <Form.Control \n                type=\"text\" \n                name=\"nombre\"\n                value={formData.nombre}\n                onChange={handleInputChange}\n                required \n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Persona de contacto</Form.Label>\n              <Form.Control \n                type=\"text\" \n                name=\"contacto\"\n                value={formData.contacto}\n                onChange={handleInputChange}\n                required \n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Teléfono</Form.Label>\n              <Form.Control \n                type=\"tel\" \n                name=\"telefono\"\n                value={formData.telefono}\n                onChange={handleInputChange}\n                required \n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control \n                type=\"email\" \n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                required \n              />\n            </Form.Group>\n            <div className=\"d-flex justify-content-end gap-2\">\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Cancelar\n              </Button>\n              <Button variant=\"primary\" type=\"submit\">\n                Guardar\n              </Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n\n      {/* Toast para notificaciones */}\n      <ToastContainer position=\"top-end\" className=\"p-3\" style={{ zIndex: 11 }}>\n        <Toast \n          onClose={() => setShowToast(false)} \n          show={showToast} \n          delay={3000} \n          autohide\n          bg={toastType}\n        >\n          <Toast.Header>\n            <strong className=\"me-auto\">\n              {toastType === 'success' ? 'Éxito' : 'Error'}\n            </strong>\n          </Toast.Header>\n          <Toast.Body className=\"text-white\">{toastMessage}</Toast.Body>\n        </Toast>\n      </ToastContainer>\n    </Container>\n  );\n};\n\nexport default Proveedores;\n"],"names":["Proveedores","proveedores","setProveedores","useState","showModal","setShowModal","formData","setFormData","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","useEffect","savedProveedores","handleInputChange","e","name","value","handleSubmit","nuevoProveedor","handleClose","error","handleDelete","id","proveedor","React","Container","Button","Table","Modal","Form","ToastContainer","Toast"],"mappings":"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"}